{"version":3,"sources":["../../node_modules/.pnpm/traverse@0.3.9/node_modules/traverse/index.js","../../node_modules/.pnpm/chainsaw@0.1.0/node_modules/chainsaw/index.js","../../node_modules/.pnpm/buffers@0.1.1/node_modules/buffers/index.js","../../node_modules/.pnpm/binary@0.3.0/node_modules/binary/lib/vars.js","../../node_modules/.pnpm/binary@0.3.0/node_modules/binary/index.js","../../node_modules/.pnpm/unzip-stream@0.3.4/node_modules/unzip-stream/lib/matcher-stream.js","../../node_modules/.pnpm/unzip-stream@0.3.4/node_modules/unzip-stream/lib/entry.js","../../node_modules/.pnpm/unzip-stream@0.3.4/node_modules/unzip-stream/lib/unzip-stream.js","../../node_modules/.pnpm/unzip-stream@0.3.4/node_modules/unzip-stream/lib/parser-stream.js","../../node_modules/.pnpm/mkdirp@0.5.6/node_modules/mkdirp/index.js","../../node_modules/.pnpm/unzip-stream@0.3.4/node_modules/unzip-stream/lib/extract.js","../../node_modules/.pnpm/unzip-stream@0.3.4/node_modules/unzip-stream/unzip.js","../src/types/IPluginManager.ts","../src/index.ts","../utils/index.ts"],"sourcesContent":["module.exports = Traverse;\nfunction Traverse (obj) {\n    if (!(this instanceof Traverse)) return new Traverse(obj);\n    this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!Object.hasOwnProperty.call(node, key)) {\n            node = undefined;\n            break;\n        }\n        node = node[key];\n    }\n    return node;\n};\n\nTraverse.prototype.set = function (ps, value) {\n    var node = this.value;\n    for (var i = 0; i < ps.length - 1; i ++) {\n        var key = ps[i];\n        if (!Object.hasOwnProperty.call(node, key)) node[key] = {};\n        node = node[key];\n    }\n    node[ps[i]] = value;\n    return value;\n};\n\nTraverse.prototype.map = function (cb) {\n    return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n    this.value = walk(this.value, cb, false);\n    return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n    var skip = arguments.length === 1;\n    var acc = skip ? this.value : init;\n    this.forEach(function (x) {\n        if (!this.isRoot || !skip) {\n            acc = cb.call(this, acc, x);\n        }\n    });\n    return acc;\n};\n\nTraverse.prototype.deepEqual = function (obj) {\n    if (arguments.length !== 1) {\n        throw new Error(\n            'deepEqual requires exactly one object to compare against'\n        );\n    }\n    \n    var equal = true;\n    var node = obj;\n    \n    this.forEach(function (y) {\n        var notEqual = (function () {\n            equal = false;\n            //this.stop();\n            return undefined;\n        }).bind(this);\n        \n        //if (node === undefined || node === null) return notEqual();\n        \n        if (!this.isRoot) {\n        /*\n            if (!Object.hasOwnProperty.call(node, this.key)) {\n                return notEqual();\n            }\n        */\n            if (typeof node !== 'object') return notEqual();\n            node = node[this.key];\n        }\n        \n        var x = node;\n        \n        this.post(function () {\n            node = x;\n        });\n        \n        var toS = function (o) {\n            return Object.prototype.toString.call(o);\n        };\n        \n        if (this.circular) {\n            if (Traverse(obj).get(this.circular.path) !== x) notEqual();\n        }\n        else if (typeof x !== typeof y) {\n            notEqual();\n        }\n        else if (x === null || y === null || x === undefined || y === undefined) {\n            if (x !== y) notEqual();\n        }\n        else if (x.__proto__ !== y.__proto__) {\n            notEqual();\n        }\n        else if (x === y) {\n            // nop\n        }\n        else if (typeof x === 'function') {\n            if (x instanceof RegExp) {\n                // both regexps on account of the __proto__ check\n                if (x.toString() != y.toString()) notEqual();\n            }\n            else if (x !== y) notEqual();\n        }\n        else if (typeof x === 'object') {\n            if (toS(y) === '[object Arguments]'\n            || toS(x) === '[object Arguments]') {\n                if (toS(x) !== toS(y)) {\n                    notEqual();\n                }\n            }\n            else if (x instanceof Date || y instanceof Date) {\n                if (!(x instanceof Date) || !(y instanceof Date)\n                || x.getTime() !== y.getTime()) {\n                    notEqual();\n                }\n            }\n            else {\n                var kx = Object.keys(x);\n                var ky = Object.keys(y);\n                if (kx.length !== ky.length) return notEqual();\n                for (var i = 0; i < kx.length; i++) {\n                    var k = kx[i];\n                    if (!Object.hasOwnProperty.call(y, k)) {\n                        notEqual();\n                    }\n                }\n            }\n        }\n    });\n    \n    return equal;\n};\n\nTraverse.prototype.paths = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.path); \n    });\n    return acc;\n};\n\nTraverse.prototype.nodes = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.node);\n    });\n    return acc;\n};\n\nTraverse.prototype.clone = function () {\n    var parents = [], nodes = [];\n    \n    return (function clone (src) {\n        for (var i = 0; i < parents.length; i++) {\n            if (parents[i] === src) {\n                return nodes[i];\n            }\n        }\n        \n        if (typeof src === 'object' && src !== null) {\n            var dst = copy(src);\n            \n            parents.push(src);\n            nodes.push(dst);\n            \n            Object.keys(src).forEach(function (key) {\n                dst[key] = clone(src[key]);\n            });\n            \n            parents.pop();\n            nodes.pop();\n            return dst;\n        }\n        else {\n            return src;\n        }\n    })(this.value);\n};\n\nfunction walk (root, cb, immutable) {\n    var path = [];\n    var parents = [];\n    var alive = true;\n    \n    return (function walker (node_) {\n        var node = immutable ? copy(node_) : node_;\n        var modifiers = {};\n        \n        var state = {\n            node : node,\n            node_ : node_,\n            path : [].concat(path),\n            parent : parents.slice(-1)[0],\n            key : path.slice(-1)[0],\n            isRoot : path.length === 0,\n            level : path.length,\n            circular : null,\n            update : function (x) {\n                if (!state.isRoot) {\n                    state.parent.node[state.key] = x;\n                }\n                state.node = x;\n            },\n            'delete' : function () {\n                delete state.parent.node[state.key];\n            },\n            remove : function () {\n                if (Array.isArray(state.parent.node)) {\n                    state.parent.node.splice(state.key, 1);\n                }\n                else {\n                    delete state.parent.node[state.key];\n                }\n            },\n            before : function (f) { modifiers.before = f },\n            after : function (f) { modifiers.after = f },\n            pre : function (f) { modifiers.pre = f },\n            post : function (f) { modifiers.post = f },\n            stop : function () { alive = false }\n        };\n        \n        if (!alive) return state;\n        \n        if (typeof node === 'object' && node !== null) {\n            state.isLeaf = Object.keys(node).length == 0;\n            \n            for (var i = 0; i < parents.length; i++) {\n                if (parents[i].node_ === node_) {\n                    state.circular = parents[i];\n                    break;\n                }\n            }\n        }\n        else {\n            state.isLeaf = true;\n        }\n        \n        state.notLeaf = !state.isLeaf;\n        state.notRoot = !state.isRoot;\n        \n        // use return values to update if defined\n        var ret = cb.call(state, state.node);\n        if (ret !== undefined && state.update) state.update(ret);\n        if (modifiers.before) modifiers.before.call(state, state.node);\n        \n        if (typeof state.node == 'object'\n        && state.node !== null && !state.circular) {\n            parents.push(state);\n            \n            var keys = Object.keys(state.node);\n            keys.forEach(function (key, i) {\n                path.push(key);\n                \n                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n                \n                var child = walker(state.node[key]);\n                if (immutable && Object.hasOwnProperty.call(state.node, key)) {\n                    state.node[key] = child.node;\n                }\n                \n                child.isLast = i == keys.length - 1;\n                child.isFirst = i == 0;\n                \n                if (modifiers.post) modifiers.post.call(state, child);\n                \n                path.pop();\n            });\n            parents.pop();\n        }\n        \n        if (modifiers.after) modifiers.after.call(state, state.node);\n        \n        return state;\n    })(root).node;\n}\n\nObject.keys(Traverse.prototype).forEach(function (key) {\n    Traverse[key] = function (obj) {\n        var args = [].slice.call(arguments, 1);\n        var t = Traverse(obj);\n        return t[key].apply(t, args);\n    };\n});\n\nfunction copy (src) {\n    if (typeof src === 'object' && src !== null) {\n        var dst;\n        \n        if (Array.isArray(src)) {\n            dst = [];\n        }\n        else if (src instanceof Date) {\n            dst = new Date(src);\n        }\n        else if (src instanceof Boolean) {\n            dst = new Boolean(src);\n        }\n        else if (src instanceof Number) {\n            dst = new Number(src);\n        }\n        else if (src instanceof String) {\n            dst = new String(src);\n        }\n        else {\n            dst = Object.create(Object.getPrototypeOf(src));\n        }\n        \n        Object.keys(src).forEach(function (key) {\n            dst[key] = src[key];\n        });\n        return dst;\n    }\n    else return src;\n}\n","var Traverse = require('traverse');\nvar EventEmitter = require('events').EventEmitter;\n\nmodule.exports = Chainsaw;\nfunction Chainsaw (builder) {\n    var saw = Chainsaw.saw(builder, {});\n    var r = builder.call(saw.handlers, saw);\n    if (r !== undefined) saw.handlers = r;\n    saw.record();\n    return saw.chain();\n};\n\nChainsaw.light = function ChainsawLight (builder) {\n    var saw = Chainsaw.saw(builder, {});\n    var r = builder.call(saw.handlers, saw);\n    if (r !== undefined) saw.handlers = r;\n    return saw.chain();\n};\n\nChainsaw.saw = function (builder, handlers) {\n    var saw = new EventEmitter;\n    saw.handlers = handlers;\n    saw.actions = [];\n\n    saw.chain = function () {\n        var ch = Traverse(saw.handlers).map(function (node) {\n            if (this.isRoot) return node;\n            var ps = this.path;\n\n            if (typeof node === 'function') {\n                this.update(function () {\n                    saw.actions.push({\n                        path : ps,\n                        args : [].slice.call(arguments)\n                    });\n                    return ch;\n                });\n            }\n        });\n\n        process.nextTick(function () {\n            saw.emit('begin');\n            saw.next();\n        });\n\n        return ch;\n    };\n\n    saw.pop = function () {\n        return saw.actions.shift();\n    };\n\n    saw.next = function () {\n        var action = saw.pop();\n\n        if (!action) {\n            saw.emit('end');\n        }\n        else if (!action.trap) {\n            var node = saw.handlers;\n            action.path.forEach(function (key) { node = node[key] });\n            node.apply(saw.handlers, action.args);\n        }\n    };\n\n    saw.nest = function (cb) {\n        var args = [].slice.call(arguments, 1);\n        var autonext = true;\n\n        if (typeof cb === 'boolean') {\n            var autonext = cb;\n            cb = args.shift();\n        }\n\n        var s = Chainsaw.saw(builder, {});\n        var r = builder.call(s.handlers, s);\n\n        if (r !== undefined) s.handlers = r;\n\n        // If we are recording...\n        if (\"undefined\" !== typeof saw.step) {\n            // ... our children should, too\n            s.record();\n        }\n\n        cb.apply(s.chain(), args);\n        if (autonext !== false) s.on('end', saw.next);\n    };\n\n    saw.record = function () {\n        upgradeChainsaw(saw);\n    };\n\n    ['trap', 'down', 'jump'].forEach(function (method) {\n        saw[method] = function () {\n            throw new Error(\"To use the trap, down and jump features, please \"+\n                            \"call record() first to start recording actions.\");\n        };\n    });\n\n    return saw;\n};\n\nfunction upgradeChainsaw(saw) {\n    saw.step = 0;\n\n    // override pop\n    saw.pop = function () {\n        return saw.actions[saw.step++];\n    };\n\n    saw.trap = function (name, cb) {\n        var ps = Array.isArray(name) ? name : [name];\n        saw.actions.push({\n            path : ps,\n            step : saw.step,\n            cb : cb,\n            trap : true\n        });\n    };\n\n    saw.down = function (name) {\n        var ps = (Array.isArray(name) ? name : [name]).join('/');\n        var i = saw.actions.slice(saw.step).map(function (x) {\n            if (x.trap && x.step <= saw.step) return false;\n            return x.path.join('/') == ps;\n        }).indexOf(true);\n\n        if (i >= 0) saw.step += i;\n        else saw.step = saw.actions.length;\n\n        var act = saw.actions[saw.step - 1];\n        if (act && act.trap) {\n            // It's a trap!\n            saw.step = act.step;\n            act.cb();\n        }\n        else saw.next();\n    };\n\n    saw.jump = function (step) {\n        saw.step = step;\n        saw.next();\n    };\n};\n","module.exports = Buffers;\n\nfunction Buffers (bufs) {\n    if (!(this instanceof Buffers)) return new Buffers(bufs);\n    this.buffers = bufs || [];\n    this.length = this.buffers.reduce(function (size, buf) {\n        return size + buf.length\n    }, 0);\n}\n\nBuffers.prototype.push = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (!Buffer.isBuffer(arguments[i])) {\n            throw new TypeError('Tried to push a non-buffer');\n        }\n    }\n    \n    for (var i = 0; i < arguments.length; i++) {\n        var buf = arguments[i];\n        this.buffers.push(buf);\n        this.length += buf.length;\n    }\n    return this.length;\n};\n\nBuffers.prototype.unshift = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (!Buffer.isBuffer(arguments[i])) {\n            throw new TypeError('Tried to unshift a non-buffer');\n        }\n    }\n    \n    for (var i = 0; i < arguments.length; i++) {\n        var buf = arguments[i];\n        this.buffers.unshift(buf);\n        this.length += buf.length;\n    }\n    return this.length;\n};\n\nBuffers.prototype.copy = function (dst, dStart, start, end) {\n    return this.slice(start, end).copy(dst, dStart, 0, end - start);\n};\n\nBuffers.prototype.splice = function (i, howMany) {\n    var buffers = this.buffers;\n    var index = i >= 0 ? i : this.length - i;\n    var reps = [].slice.call(arguments, 2);\n    \n    if (howMany === undefined) {\n        howMany = this.length - index;\n    }\n    else if (howMany > this.length - index) {\n        howMany = this.length - index;\n    }\n    \n    for (var i = 0; i < reps.length; i++) {\n        this.length += reps[i].length;\n    }\n    \n    var removed = new Buffers();\n    var bytes = 0;\n    \n    var startBytes = 0;\n    for (\n        var ii = 0;\n        ii < buffers.length && startBytes + buffers[ii].length < index;\n        ii ++\n    ) { startBytes += buffers[ii].length }\n    \n    if (index - startBytes > 0) {\n        var start = index - startBytes;\n        \n        if (start + howMany < buffers[ii].length) {\n            removed.push(buffers[ii].slice(start, start + howMany));\n            \n            var orig = buffers[ii];\n            //var buf = new Buffer(orig.length - howMany);\n            var buf0 = new Buffer(start);\n            for (var i = 0; i < start; i++) {\n                buf0[i] = orig[i];\n            }\n            \n            var buf1 = new Buffer(orig.length - start - howMany);\n            for (var i = start + howMany; i < orig.length; i++) {\n                buf1[ i - howMany - start ] = orig[i]\n            }\n            \n            if (reps.length > 0) {\n                var reps_ = reps.slice();\n                reps_.unshift(buf0);\n                reps_.push(buf1);\n                buffers.splice.apply(buffers, [ ii, 1 ].concat(reps_));\n                ii += reps_.length;\n                reps = [];\n            }\n            else {\n                buffers.splice(ii, 1, buf0, buf1);\n                //buffers[ii] = buf;\n                ii += 2;\n            }\n        }\n        else {\n            removed.push(buffers[ii].slice(start));\n            buffers[ii] = buffers[ii].slice(0, start);\n            ii ++;\n        }\n    }\n    \n    if (reps.length > 0) {\n        buffers.splice.apply(buffers, [ ii, 0 ].concat(reps));\n        ii += reps.length;\n    }\n    \n    while (removed.length < howMany) {\n        var buf = buffers[ii];\n        var len = buf.length;\n        var take = Math.min(len, howMany - removed.length);\n        \n        if (take === len) {\n            removed.push(buf);\n            buffers.splice(ii, 1);\n        }\n        else {\n            removed.push(buf.slice(0, take));\n            buffers[ii] = buffers[ii].slice(take);\n        }\n    }\n    \n    this.length -= removed.length;\n    \n    return removed;\n};\n \nBuffers.prototype.slice = function (i, j) {\n    var buffers = this.buffers;\n    if (j === undefined) j = this.length;\n    if (i === undefined) i = 0;\n    \n    if (j > this.length) j = this.length;\n    \n    var startBytes = 0;\n    for (\n        var si = 0;\n        si < buffers.length && startBytes + buffers[si].length <= i;\n        si ++\n    ) { startBytes += buffers[si].length }\n    \n    var target = new Buffer(j - i);\n    \n    var ti = 0;\n    for (var ii = si; ti < j - i && ii < buffers.length; ii++) {\n        var len = buffers[ii].length;\n        \n        var start = ti === 0 ? i - startBytes : 0;\n        var end = ti + len >= j - i\n            ? Math.min(start + (j - i) - ti, len)\n            : len\n        ;\n        \n        buffers[ii].copy(target, ti, start, end);\n        ti += end - start;\n    }\n    \n    return target;\n};\n\nBuffers.prototype.pos = function (i) {\n    if (i < 0 || i >= this.length) throw new Error('oob');\n    var l = i, bi = 0, bu = null;\n    for (;;) {\n        bu = this.buffers[bi];\n        if (l < bu.length) {\n            return {buf: bi, offset: l};\n        } else {\n            l -= bu.length;\n        }\n        bi++;\n    }\n};\n\nBuffers.prototype.get = function get (i) {\n    var pos = this.pos(i);\n\n    return this.buffers[pos.buf].get(pos.offset);\n};\n\nBuffers.prototype.set = function set (i, b) {\n    var pos = this.pos(i);\n\n    return this.buffers[pos.buf].set(pos.offset, b);\n};\n\nBuffers.prototype.indexOf = function (needle, offset) {\n    if (\"string\" === typeof needle) {\n        needle = new Buffer(needle);\n    } else if (needle instanceof Buffer) {\n        // already a buffer\n    } else {\n        throw new Error('Invalid type for a search string');\n    }\n\n    if (!needle.length) {\n        return 0;\n    }\n\n    if (!this.length) {\n        return -1;\n    }\n\n    var i = 0, j = 0, match = 0, mstart, pos = 0;\n\n    // start search from a particular point in the virtual buffer\n    if (offset) {\n        var p = this.pos(offset);\n        i = p.buf;\n        j = p.offset;\n        pos = offset;\n    }\n\n    // for each character in virtual buffer\n    for (;;) {\n        while (j >= this.buffers[i].length) {\n            j = 0;\n            i++;\n\n            if (i >= this.buffers.length) {\n                // search string not found\n                return -1;\n            }\n        }\n\n        var char = this.buffers[i][j];\n\n        if (char == needle[match]) {\n            // keep track where match started\n            if (match == 0) {\n                mstart = {\n                    i: i,\n                    j: j,\n                    pos: pos\n                };\n            }\n            match++;\n            if (match == needle.length) {\n                // full match\n                return mstart.pos;\n            }\n        } else if (match != 0) {\n            // a partial match ended, go back to match starting position\n            // this will continue the search at the next character\n            i = mstart.i;\n            j = mstart.j;\n            pos = mstart.pos;\n            match = 0;\n        }\n\n        j++;\n        pos++;\n    }\n};\n\nBuffers.prototype.toBuffer = function() {\n    return this.slice();\n}\n\nBuffers.prototype.toString = function(encoding, start, end) {\n    return this.slice(start, end).toString(encoding);\n}\n","module.exports = function (store) {\n    function getset (name, value) {\n        var node = vars.store;\n        var keys = name.split('.');\n        keys.slice(0,-1).forEach(function (k) {\n            if (node[k] === undefined) node[k] = {};\n            node = node[k]\n        });\n        var key = keys[keys.length - 1];\n        if (arguments.length == 1) {\n            return node[key];\n        }\n        else {\n            return node[key] = value;\n        }\n    }\n    \n    var vars = {\n        get : function (name) {\n            return getset(name);\n        },\n        set : function (name, value) {\n            return getset(name, value);\n        },\n        store : store || {},\n    };\n    return vars;\n};\n","var Chainsaw = require('chainsaw');\nvar EventEmitter = require('events').EventEmitter;\nvar Buffers = require('buffers');\nvar Vars = require('./lib/vars.js');\nvar Stream = require('stream').Stream;\n\nexports = module.exports = function (bufOrEm, eventName) {\n    if (Buffer.isBuffer(bufOrEm)) {\n        return exports.parse(bufOrEm);\n    }\n    \n    var s = exports.stream();\n    if (bufOrEm && bufOrEm.pipe) {\n        bufOrEm.pipe(s);\n    }\n    else if (bufOrEm) {\n        bufOrEm.on(eventName || 'data', function (buf) {\n            s.write(buf);\n        });\n        \n        bufOrEm.on('end', function () {\n            s.end();\n        });\n    }\n    return s;\n};\n\nexports.stream = function (input) {\n    if (input) return exports.apply(null, arguments);\n    \n    var pending = null;\n    function getBytes (bytes, cb, skip) {\n        pending = {\n            bytes : bytes,\n            skip : skip,\n            cb : function (buf) {\n                pending = null;\n                cb(buf);\n            },\n        };\n        dispatch();\n    }\n    \n    var offset = null;\n    function dispatch () {\n        if (!pending) {\n            if (caughtEnd) done = true;\n            return;\n        }\n        if (typeof pending === 'function') {\n            pending();\n        }\n        else {\n            var bytes = offset + pending.bytes;\n            \n            if (buffers.length >= bytes) {\n                var buf;\n                if (offset == null) {\n                    buf = buffers.splice(0, bytes);\n                    if (!pending.skip) {\n                        buf = buf.slice();\n                    }\n                }\n                else {\n                    if (!pending.skip) {\n                        buf = buffers.slice(offset, bytes);\n                    }\n                    offset = bytes;\n                }\n                \n                if (pending.skip) {\n                    pending.cb();\n                }\n                else {\n                    pending.cb(buf);\n                }\n            }\n        }\n    }\n    \n    function builder (saw) {\n        function next () { if (!done) saw.next() }\n        \n        var self = words(function (bytes, cb) {\n            return function (name) {\n                getBytes(bytes, function (buf) {\n                    vars.set(name, cb(buf));\n                    next();\n                });\n            };\n        });\n        \n        self.tap = function (cb) {\n            saw.nest(cb, vars.store);\n        };\n        \n        self.into = function (key, cb) {\n            if (!vars.get(key)) vars.set(key, {});\n            var parent = vars;\n            vars = Vars(parent.get(key));\n            \n            saw.nest(function () {\n                cb.apply(this, arguments);\n                this.tap(function () {\n                    vars = parent;\n                });\n            }, vars.store);\n        };\n        \n        self.flush = function () {\n            vars.store = {};\n            next();\n        };\n        \n        self.loop = function (cb) {\n            var end = false;\n            \n            saw.nest(false, function loop () {\n                this.vars = vars.store;\n                cb.call(this, function () {\n                    end = true;\n                    next();\n                }, vars.store);\n                this.tap(function () {\n                    if (end) saw.next()\n                    else loop.call(this)\n                }.bind(this));\n            }, vars.store);\n        };\n        \n        self.buffer = function (name, bytes) {\n            if (typeof bytes === 'string') {\n                bytes = vars.get(bytes);\n            }\n            \n            getBytes(bytes, function (buf) {\n                vars.set(name, buf);\n                next();\n            });\n        };\n        \n        self.skip = function (bytes) {\n            if (typeof bytes === 'string') {\n                bytes = vars.get(bytes);\n            }\n            \n            getBytes(bytes, function () {\n                next();\n            });\n        };\n        \n        self.scan = function find (name, search) {\n            if (typeof search === 'string') {\n                search = new Buffer(search);\n            }\n            else if (!Buffer.isBuffer(search)) {\n                throw new Error('search must be a Buffer or a string');\n            }\n            \n            var taken = 0;\n            pending = function () {\n                var pos = buffers.indexOf(search, offset + taken);\n                var i = pos-offset-taken;\n                if (pos !== -1) {\n                    pending = null;\n                    if (offset != null) {\n                        vars.set(\n                            name,\n                            buffers.slice(offset, offset + taken + i)\n                        );\n                        offset += taken + i + search.length;\n                    }\n                    else {\n                        vars.set(\n                            name,\n                            buffers.slice(0, taken + i)\n                        );\n                        buffers.splice(0, taken + i + search.length);\n                    }\n                    next();\n                    dispatch();\n                } else {\n                    i = Math.max(buffers.length - search.length - offset - taken, 0);\n\t\t\t\t}\n                taken += i;\n            };\n            dispatch();\n        };\n        \n        self.peek = function (cb) {\n            offset = 0;\n            saw.nest(function () {\n                cb.call(this, vars.store);\n                this.tap(function () {\n                    offset = null;\n                });\n            });\n        };\n        \n        return self;\n    };\n    \n    var stream = Chainsaw.light(builder);\n    stream.writable = true;\n    \n    var buffers = Buffers();\n    \n    stream.write = function (buf) {\n        buffers.push(buf);\n        dispatch();\n    };\n    \n    var vars = Vars();\n    \n    var done = false, caughtEnd = false;\n    stream.end = function () {\n        caughtEnd = true;\n    };\n    \n    stream.pipe = Stream.prototype.pipe;\n    Object.getOwnPropertyNames(EventEmitter.prototype).forEach(function (name) {\n        stream[name] = EventEmitter.prototype[name];\n    });\n    \n    return stream;\n};\n\nexports.parse = function parse (buffer) {\n    var self = words(function (bytes, cb) {\n        return function (name) {\n            if (offset + bytes <= buffer.length) {\n                var buf = buffer.slice(offset, offset + bytes);\n                offset += bytes;\n                vars.set(name, cb(buf));\n            }\n            else {\n                vars.set(name, null);\n            }\n            return self;\n        };\n    });\n    \n    var offset = 0;\n    var vars = Vars();\n    self.vars = vars.store;\n    \n    self.tap = function (cb) {\n        cb.call(self, vars.store);\n        return self;\n    };\n    \n    self.into = function (key, cb) {\n        if (!vars.get(key)) {\n            vars.set(key, {});\n        }\n        var parent = vars;\n        vars = Vars(parent.get(key));\n        cb.call(self, vars.store);\n        vars = parent;\n        return self;\n    };\n    \n    self.loop = function (cb) {\n        var end = false;\n        var ender = function () { end = true };\n        while (end === false) {\n            cb.call(self, ender, vars.store);\n        }\n        return self;\n    };\n    \n    self.buffer = function (name, size) {\n        if (typeof size === 'string') {\n            size = vars.get(size);\n        }\n        var buf = buffer.slice(offset, Math.min(buffer.length, offset + size));\n        offset += size;\n        vars.set(name, buf);\n        \n        return self;\n    };\n    \n    self.skip = function (bytes) {\n        if (typeof bytes === 'string') {\n            bytes = vars.get(bytes);\n        }\n        offset += bytes;\n        \n        return self;\n    };\n    \n    self.scan = function (name, search) {\n        if (typeof search === 'string') {\n            search = new Buffer(search);\n        }\n        else if (!Buffer.isBuffer(search)) {\n            throw new Error('search must be a Buffer or a string');\n        }\n        vars.set(name, null);\n        \n        // simple but slow string search\n        for (var i = 0; i + offset <= buffer.length - search.length + 1; i++) {\n            for (\n                var j = 0;\n                j < search.length && buffer[offset+i+j] === search[j];\n                j++\n            );\n            if (j === search.length) break;\n        }\n        \n        vars.set(name, buffer.slice(offset, offset + i));\n        offset += i + search.length;\n        return self;\n    };\n    \n    self.peek = function (cb) {\n        var was = offset;\n        cb.call(self, vars.store);\n        offset = was;\n        return self;\n    };\n    \n    self.flush = function () {\n        vars.store = {};\n        return self;\n    };\n    \n    self.eof = function () {\n        return offset >= buffer.length;\n    };\n    \n    return self;\n};\n\n// convert byte strings to unsigned little endian numbers\nfunction decodeLEu (bytes) {\n    var acc = 0;\n    for (var i = 0; i < bytes.length; i++) {\n        acc += Math.pow(256,i) * bytes[i];\n    }\n    return acc;\n}\n\n// convert byte strings to unsigned big endian numbers\nfunction decodeBEu (bytes) {\n    var acc = 0;\n    for (var i = 0; i < bytes.length; i++) {\n        acc += Math.pow(256, bytes.length - i - 1) * bytes[i];\n    }\n    return acc;\n}\n\n// convert byte strings to signed big endian numbers\nfunction decodeBEs (bytes) {\n    var val = decodeBEu(bytes);\n    if ((bytes[0] & 0x80) == 0x80) {\n        val -= Math.pow(256, bytes.length);\n    }\n    return val;\n}\n\n// convert byte strings to signed little endian numbers\nfunction decodeLEs (bytes) {\n    var val = decodeLEu(bytes);\n    if ((bytes[bytes.length - 1] & 0x80) == 0x80) {\n        val -= Math.pow(256, bytes.length);\n    }\n    return val;\n}\n\nfunction words (decode) {\n    var self = {};\n    \n    [ 1, 2, 4, 8 ].forEach(function (bytes) {\n        var bits = bytes * 8;\n        \n        self['word' + bits + 'le']\n        = self['word' + bits + 'lu']\n        = decode(bytes, decodeLEu);\n        \n        self['word' + bits + 'ls']\n        = decode(bytes, decodeLEs);\n        \n        self['word' + bits + 'be']\n        = self['word' + bits + 'bu']\n        = decode(bytes, decodeBEu);\n        \n        self['word' + bits + 'bs']\n        = decode(bytes, decodeBEs);\n    });\n    \n    // word8be(n) == word8le(n) for all n\n    self.word8 = self.word8u = self.word8be;\n    self.word8s = self.word8bs;\n    \n    return self;\n}\n","var Transform = require('stream').Transform;\nvar util = require('util');\n\nfunction MatcherStream(patternDesc, matchFn) {\n    if (!(this instanceof MatcherStream)) {\n        return new MatcherStream();\n    }\n\n    Transform.call(this);\n\n    var p = typeof patternDesc === 'object' ? patternDesc.pattern : patternDesc;\n\n    this.pattern = Buffer.isBuffer(p) ? p : Buffer.from(p);\n    this.requiredLength = this.pattern.length;\n    if (patternDesc.requiredExtraSize) this.requiredLength += patternDesc.requiredExtraSize;\n\n    this.data = new Buffer('');\n    this.bytesSoFar = 0;\n\n    this.matchFn = matchFn;\n}\n\nutil.inherits(MatcherStream, Transform);\n\nMatcherStream.prototype.checkDataChunk = function (ignoreMatchZero) {\n    var enoughData = this.data.length >= this.requiredLength; // strict more than ?\n    if (!enoughData) { return; }\n\n    var matchIndex = this.data.indexOf(this.pattern, ignoreMatchZero ? 1 : 0);\n    if (matchIndex >= 0 && matchIndex + this.requiredLength > this.data.length) {\n        if (matchIndex > 0) {\n            var packet = this.data.slice(0, matchIndex);\n            this.push(packet);\n            this.bytesSoFar += matchIndex;\n            this.data = this.data.slice(matchIndex);\n        }\n        return;\n    }\n\n    if (matchIndex === -1) {\n        var packetLen = this.data.length - this.requiredLength + 1;\n\n        var packet = this.data.slice(0, packetLen);\n        this.push(packet);\n        this.bytesSoFar += packetLen;\n        this.data = this.data.slice(packetLen);\n        return;\n    }\n\n    // found match\n    if (matchIndex > 0) {\n        var packet = this.data.slice(0, matchIndex);\n        this.data = this.data.slice(matchIndex);\n        this.push(packet);\n        this.bytesSoFar += matchIndex;\n    }\n\n    var finished = this.matchFn ? this.matchFn(this.data, this.bytesSoFar) : true;\n    if (finished) {\n        this.data = new Buffer('');\n        return;\n    }\n\n    return true;\n}\n\nMatcherStream.prototype._transform = function (chunk, encoding, cb) {\n    this.data = Buffer.concat([this.data, chunk]);\n\n    var firstIteration = true;\n    while (this.checkDataChunk(!firstIteration)) {\n        firstIteration = false;\n    }\n\n    cb();\n}\n\nMatcherStream.prototype._flush = function (cb) {\n    if (this.data.length > 0) {\n        var firstIteration = true;\n        while (this.checkDataChunk(!firstIteration)) {\n            firstIteration = false;\n        }\n    }\n\n    if (this.data.length > 0) {\n        this.push(this.data);\n        this.data = null;\n    }\n\n    cb();\n}\n\nmodule.exports = MatcherStream;","'use strict';\n\nvar stream = require('stream');\nvar inherits = require('util').inherits;\n\nfunction Entry() {\n    if (!(this instanceof Entry)) {\n        return new Entry();\n    }\n\n    stream.PassThrough.call(this);\n\n    this.path = null;\n    this.type = null;\n    this.isDirectory = false;\n}\n\ninherits(Entry, stream.PassThrough);\n\nEntry.prototype.autodrain = function () {\n    return this.pipe(new stream.Transform({ transform: function (d, e, cb) { cb(); } }));\n}\n\nmodule.exports = Entry;","'use strict';\n\nvar binary = require('binary');\nvar stream = require('stream');\nvar util = require('util');\nvar zlib = require('zlib');\nvar MatcherStream = require('./matcher-stream');\nvar Entry = require('./entry');\n\nconst states = {\n    STREAM_START:                         0,\n    START:                                1,\n    LOCAL_FILE_HEADER:                    2,\n    LOCAL_FILE_HEADER_SUFFIX:             3,\n    FILE_DATA:                            4,\n    FILE_DATA_END:                        5,\n    DATA_DESCRIPTOR:                      6,\n    CENTRAL_DIRECTORY_FILE_HEADER:        7,\n    CENTRAL_DIRECTORY_FILE_HEADER_SUFFIX: 8,\n    CDIR64_END:                           9,\n    CDIR64_END_DATA_SECTOR:               10,\n    CDIR64_LOCATOR:                       11,\n    CENTRAL_DIRECTORY_END:                12,\n    CENTRAL_DIRECTORY_END_COMMENT:        13,\n    TRAILING_JUNK:                        14,\n\n    ERROR: 99\n}\n\nconst FOUR_GIGS = 4294967296;\n\nconst SIG_LOCAL_FILE_HEADER  = 0x04034b50;\nconst SIG_DATA_DESCRIPTOR    = 0x08074b50;\nconst SIG_CDIR_RECORD        = 0x02014b50;\nconst SIG_CDIR64_RECORD_END  = 0x06064b50;\nconst SIG_CDIR64_LOCATOR_END = 0x07064b50;\nconst SIG_CDIR_RECORD_END    = 0x06054b50;\n\nfunction UnzipStream(options) {\n    if (!(this instanceof UnzipStream)) {\n        return new UnzipStream(options);\n    }\n\n    stream.Transform.call(this);\n\n    this.options = options || {};\n    this.data = new Buffer('');\n    this.state = states.STREAM_START;\n    this.skippedBytes = 0;\n    this.parsedEntity = null;\n    this.outStreamInfo = {};\n}\n\nutil.inherits(UnzipStream, stream.Transform);\n\nUnzipStream.prototype.processDataChunk = function (chunk) {\n    var requiredLength;\n\n    switch (this.state) {\n        case states.STREAM_START:\n        case states.START:\n            requiredLength = 4;\n            break;\n        case states.LOCAL_FILE_HEADER:\n            requiredLength = 26;\n            break;\n        case states.LOCAL_FILE_HEADER_SUFFIX:\n            requiredLength = this.parsedEntity.fileNameLength + this.parsedEntity.extraFieldLength;\n            break;\n        case states.DATA_DESCRIPTOR:\n            requiredLength = 12;\n            break;\n        case states.CENTRAL_DIRECTORY_FILE_HEADER:\n            requiredLength = 42;\n            break;\n        case states.CENTRAL_DIRECTORY_FILE_HEADER_SUFFIX:\n            requiredLength = this.parsedEntity.fileNameLength + this.parsedEntity.extraFieldLength + this.parsedEntity.fileCommentLength;\n            break;\n        case states.CDIR64_END:\n            requiredLength = 52;\n            break;\n        case states.CDIR64_END_DATA_SECTOR:\n            requiredLength = this.parsedEntity.centralDirectoryRecordSize - 44;\n            break;\n        case states.CDIR64_LOCATOR:\n            requiredLength = 16;\n            break;\n        case states.CENTRAL_DIRECTORY_END:\n            requiredLength = 18;\n            break;\n        case states.CENTRAL_DIRECTORY_END_COMMENT:\n            requiredLength = this.parsedEntity.commentLength;\n            break;\n        case states.FILE_DATA:\n            return 0;\n        case states.FILE_DATA_END:\n            return 0;\n        case states.TRAILING_JUNK:\n            if (this.options.debug) console.log(\"found\", chunk.length, \"bytes of TRAILING_JUNK\");\n            return chunk.length;\n        default:\n            return chunk.length;\n    }\n\n    var chunkLength = chunk.length;\n    if (chunkLength < requiredLength) {\n        return 0;\n    }\n\n    switch (this.state) {\n        case states.STREAM_START:\n        case states.START:\n            var signature = chunk.readUInt32LE(0);\n            switch (signature) {\n                case SIG_LOCAL_FILE_HEADER:\n                    this.state = states.LOCAL_FILE_HEADER;\n                    break;\n                case SIG_CDIR_RECORD:\n                    this.state = states.CENTRAL_DIRECTORY_FILE_HEADER;\n                    break;\n                case SIG_CDIR64_RECORD_END:\n                    this.state = states.CDIR64_END;\n                    break;\n                case SIG_CDIR64_LOCATOR_END:\n                    this.state = states.CDIR64_LOCATOR;\n                    break;\n                case SIG_CDIR_RECORD_END:\n                    this.state = states.CENTRAL_DIRECTORY_END;\n                    break;\n                default:\n                    var isStreamStart = this.state === states.STREAM_START;\n                    if (!isStreamStart && (signature & 0xffff) !== 0x4b50 && this.skippedBytes < 26) {\n                        // we'll allow a padding of max 28 bytes\n                        var remaining = signature;\n                        var toSkip = 4;\n                        for (var i = 1; i < 4 && remaining !== 0; i++) {\n                            remaining = remaining >>> 8;\n                            if ((remaining & 0xff) === 0x50) {\n                                toSkip = i;\n                                break;\n                            }\n                        }\n                        this.skippedBytes += toSkip;\n                        if (this.options.debug) console.log('Skipped', this.skippedBytes, 'bytes');\n                        return toSkip;\n                    }\n                    this.state = states.ERROR;\n                    var errMsg = isStreamStart ? \"Not a valid zip file\" : \"Invalid signature in zip file\";\n                    if (this.options.debug) {\n                        var sig = chunk.readUInt32LE(0);\n                        var asString;\n                        try { asString = chunk.slice(0, 4).toString(); } catch (e) {}\n                        console.log(\"Unexpected signature in zip file: 0x\" + sig.toString(16), '\"' + asString + '\", skipped', this.skippedBytes, 'bytes');\n                    }\n                    this.emit(\"error\", new Error(errMsg));\n                    return chunk.length;\n            }\n            this.skippedBytes = 0;\n            return requiredLength;\n\n        case states.LOCAL_FILE_HEADER:\n            this.parsedEntity = this._readFile(chunk);\n            this.state = states.LOCAL_FILE_HEADER_SUFFIX;\n\n            return requiredLength;\n\n        case states.LOCAL_FILE_HEADER_SUFFIX:\n            var entry = new Entry();\n            var isUtf8 = (this.parsedEntity.flags & 0x800) !== 0;\n            entry.path = this._decodeString(chunk.slice(0, this.parsedEntity.fileNameLength), isUtf8);\n            var extraDataBuffer = chunk.slice(this.parsedEntity.fileNameLength, this.parsedEntity.fileNameLength + this.parsedEntity.extraFieldLength);\n            var extra = this._readExtraFields(extraDataBuffer);\n            if (extra && extra.parsed) {\n                if (extra.parsed.path && !isUtf8) {\n                    entry.path = extra.parsed.path;\n                }\n                if (Number.isFinite(extra.parsed.uncompressedSize) && this.parsedEntity.uncompressedSize === FOUR_GIGS-1) {\n                    this.parsedEntity.uncompressedSize = extra.parsed.uncompressedSize;\n                }\n                if (Number.isFinite(extra.parsed.compressedSize) && this.parsedEntity.compressedSize === FOUR_GIGS-1) {\n                    this.parsedEntity.compressedSize = extra.parsed.compressedSize;\n                }\n            }\n            this.parsedEntity.extra = extra.parsed || {};\n\n            if (this.options.debug) {\n                const debugObj = Object.assign({}, this.parsedEntity, {\n                    path: entry.path,\n                    flags: '0x' + this.parsedEntity.flags.toString(16),\n                    extraFields: extra && extra.debug\n                });\n                console.log(\"decoded LOCAL_FILE_HEADER:\", JSON.stringify(debugObj, null, 2));\n            }\n            this._prepareOutStream(this.parsedEntity, entry);\n\n            this.emit(\"entry\", entry);\n\n            this.state = states.FILE_DATA;\n\n            return requiredLength;\n\n        case states.CENTRAL_DIRECTORY_FILE_HEADER:\n            this.parsedEntity = this._readCentralDirectoryEntry(chunk);\n            this.state = states.CENTRAL_DIRECTORY_FILE_HEADER_SUFFIX;\n\n            return requiredLength;\n\n        case states.CENTRAL_DIRECTORY_FILE_HEADER_SUFFIX:\n            // got file name in chunk[0..]\n            var isUtf8 = (this.parsedEntity.flags & 0x800) !== 0;\n            var path = this._decodeString(chunk.slice(0, this.parsedEntity.fileNameLength), isUtf8);\n            var extraDataBuffer = chunk.slice(this.parsedEntity.fileNameLength, this.parsedEntity.fileNameLength + this.parsedEntity.extraFieldLength);\n            var extra = this._readExtraFields(extraDataBuffer);\n            if (extra && extra.parsed && extra.parsed.path && !isUtf8) {\n                path = extra.parsed.path;\n            }\n            this.parsedEntity.extra = extra.parsed;\n\n            var isUnix = ((this.parsedEntity.versionMadeBy & 0xff00) >> 8) === 3;\n            var unixAttrs, isSymlink;\n            if (isUnix) {\n                unixAttrs = this.parsedEntity.externalFileAttributes >>> 16;\n                var fileType = unixAttrs >>> 12;\n                isSymlink = (fileType & 0o12) === 0o12; // __S_IFLNK\n            }\n            if (this.options.debug) {\n                const debugObj = Object.assign({}, this.parsedEntity, {\n                    path: path,\n                    flags: '0x' + this.parsedEntity.flags.toString(16),\n                    unixAttrs: unixAttrs && '0' + unixAttrs.toString(8),\n                    isSymlink: isSymlink,\n                    extraFields: extra.debug,\n                });\n                console.log(\"decoded CENTRAL_DIRECTORY_FILE_HEADER:\", JSON.stringify(debugObj, null, 2));\n            }\n            this.state = states.START;\n\n            return requiredLength;\n\n        case states.CDIR64_END:\n            this.parsedEntity = this._readEndOfCentralDirectory64(chunk);\n            if (this.options.debug) {\n                console.log(\"decoded CDIR64_END_RECORD:\", this.parsedEntity);\n            }\n            this.state = states.CDIR64_END_DATA_SECTOR;\n\n            return requiredLength;\n\n        case states.CDIR64_END_DATA_SECTOR:\n            this.state = states.START;\n\n            return requiredLength;\n\n        case states.CDIR64_LOCATOR:\n            // ignore, nothing interesting\n            this.state = states.START;\n\n            return requiredLength;\n\n        case states.CENTRAL_DIRECTORY_END:\n            this.parsedEntity = this._readEndOfCentralDirectory(chunk);\n            if (this.options.debug) {\n                console.log(\"decoded CENTRAL_DIRECTORY_END:\", this.parsedEntity);\n            }\n            this.state = states.CENTRAL_DIRECTORY_END_COMMENT;\n\n            return requiredLength;\n\n        case states.CENTRAL_DIRECTORY_END_COMMENT:\n            if (this.options.debug) {\n                console.log(\"decoded CENTRAL_DIRECTORY_END_COMMENT:\", chunk.slice(0, requiredLength).toString());\n            }\n            this.state = states.TRAILING_JUNK;\n\n            return requiredLength;\n\n        case states.ERROR:\n            return chunk.length; // discard\n\n        default:\n            console.log(\"didn't handle state #\", this.state, \"discarding\");\n            return chunk.length;\n    }\n}\n\nUnzipStream.prototype._prepareOutStream = function (vars, entry) {\n    var self = this;\n\n    var isDirectory = vars.uncompressedSize === 0 && /[\\/\\\\]$/.test(entry.path);\n    // protect against malicious zip files which want to extract to parent dirs\n    entry.path = entry.path.replace(/(?<=^|[/\\\\]+)[.][.]+(?=[/\\\\]+|$)/g, \".\");\n    entry.type = isDirectory ? 'Directory' : 'File';\n    entry.isDirectory = isDirectory;\n\n    var fileSizeKnown = !(vars.flags & 0x08);\n    if (fileSizeKnown) {\n        entry.size = vars.uncompressedSize;\n    }\n\n    var isVersionSupported = vars.versionsNeededToExtract <= 45;\n\n    this.outStreamInfo = {\n        stream: null,\n        limit: fileSizeKnown ? vars.compressedSize : -1,\n        written: 0\n    };\n\n    if (!fileSizeKnown) {\n        var pattern = new Buffer(4);\n        pattern.writeUInt32LE(SIG_DATA_DESCRIPTOR, 0);\n        var zip64Mode = vars.extra.zip64Mode;\n        var extraSize = zip64Mode ? 20 : 12;\n        var searchPattern = {\n            pattern: pattern,\n            requiredExtraSize: extraSize\n        }\n\n        var matcherStream = new MatcherStream(searchPattern, function (matchedChunk, sizeSoFar) {\n            var vars = self._readDataDescriptor(matchedChunk, zip64Mode);\n\n            var compressedSizeMatches = vars.compressedSize === sizeSoFar;\n            // let's also deal with archives with 4GiB+ files without zip64\n            if (!zip64Mode && !compressedSizeMatches && sizeSoFar >= FOUR_GIGS) {\n                var overflown = sizeSoFar - FOUR_GIGS;\n                while (overflown >= 0) {\n                    compressedSizeMatches = vars.compressedSize === overflown;\n                    if (compressedSizeMatches) break;\n                    overflown -= FOUR_GIGS;\n                }\n            }\n            if (!compressedSizeMatches) { return; }\n\n            self.state = states.FILE_DATA_END;\n            var sliceOffset = zip64Mode ? 24 : 16;\n            if (self.data.length > 0) {\n                self.data = Buffer.concat([matchedChunk.slice(sliceOffset), self.data]);\n            } else {\n                self.data = matchedChunk.slice(sliceOffset);\n            }\n\n            return true;\n        });\n        this.outStreamInfo.stream = matcherStream;\n    } else {\n        this.outStreamInfo.stream = new stream.PassThrough();\n    }\n\n    var isEncrypted = (vars.flags & 0x01) || (vars.flags & 0x40);\n    if (isEncrypted || !isVersionSupported) {\n        var message = isEncrypted ? \"Encrypted files are not supported!\"\n            : (\"Zip version \" + Math.floor(vars.versionsNeededToExtract / 10) + \".\" + vars.versionsNeededToExtract % 10 + \" is not supported\");\n\n        entry.skip = true;\n        setImmediate(() => {\n            self.emit('error', new Error(message));\n        });\n\n        // try to skip over this entry\n        this.outStreamInfo.stream.pipe(new Entry().autodrain());\n        return;\n    }\n\n    var isCompressed = vars.compressionMethod > 0;\n    if (isCompressed) {\n        var inflater = zlib.createInflateRaw();\n        inflater.on('error', function (err) {\n            self.state = states.ERROR;\n            self.emit('error', err);\n        });\n        this.outStreamInfo.stream.pipe(inflater).pipe(entry);\n    } else {\n        this.outStreamInfo.stream.pipe(entry);\n    }\n\n    if (this._drainAllEntries) {\n        entry.autodrain();\n    }\n}\n\nUnzipStream.prototype._readFile = function (data) {\n    var vars = binary.parse(data)\n        .word16lu('versionsNeededToExtract')\n        .word16lu('flags')\n        .word16lu('compressionMethod')\n        .word16lu('lastModifiedTime')\n        .word16lu('lastModifiedDate')\n        .word32lu('crc32')\n        .word32lu('compressedSize')\n        .word32lu('uncompressedSize')\n        .word16lu('fileNameLength')\n        .word16lu('extraFieldLength')\n        .vars;\n\n    return vars;\n}\n\nUnzipStream.prototype._readExtraFields = function (data) {\n    var extra = {};\n    var result = { parsed: extra };\n    if (this.options.debug) {\n        result.debug = [];\n    }\n    var index = 0;\n    while (index < data.length) {\n        var vars = binary.parse(data)\n            .skip(index)\n            .word16lu('extraId')\n            .word16lu('extraSize')\n            .vars;\n\n        index += 4;\n\n        var fieldType = undefined;\n        switch (vars.extraId) {\n            case 0x0001:\n                fieldType = \"Zip64 extended information extra field\";\n                var z64vars = binary.parse(data.slice(index, index+vars.extraSize))\n                    .word64lu('uncompressedSize')\n                    .word64lu('compressedSize')\n                    .word64lu('offsetToLocalHeader')\n                    .word32lu('diskStartNumber')\n                    .vars;\n                if (z64vars.uncompressedSize !== null) {\n                    extra.uncompressedSize = z64vars.uncompressedSize;\n                }\n                if (z64vars.compressedSize !== null) {\n                    extra.compressedSize = z64vars.compressedSize;\n                }\n                extra.zip64Mode = true;\n                break;\n            case 0x000a:\n                fieldType = \"NTFS extra field\";\n                break;\n            case 0x5455:\n                fieldType = \"extended timestamp\";\n                var timestampFields = data.readUInt8(index);\n                var offset = 1;\n                if (vars.extraSize >= offset + 4 && timestampFields & 1) {\n                    extra.mtime = new Date(data.readUInt32LE(index + offset) * 1000);\n                    offset += 4;\n                }\n                if (vars.extraSize >= offset + 4 && timestampFields & 2) {\n                    extra.atime = new Date(data.readUInt32LE(index + offset) * 1000);\n                    offset += 4;\n                }\n                if (vars.extraSize >= offset + 4 && timestampFields & 4) {\n                    extra.ctime = new Date(data.readUInt32LE(index + offset) * 1000);\n                }\n                break;\n            case 0x7075:\n                fieldType = \"Info-ZIP Unicode Path Extra Field\";\n                var fieldVer = data.readUInt8(index);\n                if (fieldVer === 1) {\n                    var offset = 1;\n                    // TODO: should be checking this against our path buffer\n                    var nameCrc32 = data.readUInt32LE(index + offset);\n                    offset += 4;\n                    var pathBuffer = data.slice(index + offset);\n                    extra.path = pathBuffer.toString();\n                }\n                break;\n            case 0x000d:\n            case 0x5855:\n                fieldType = vars.extraId === 0x000d ? \"PKWARE Unix\" : \"Info-ZIP UNIX (type 1)\";\n                var offset = 0;\n                if (vars.extraSize >= 8) {\n                    var atime = new Date(data.readUInt32LE(index + offset) * 1000);\n                    offset += 4;\n                    var mtime = new Date(data.readUInt32LE(index + offset) * 1000);\n                    offset += 4;\n                    extra.atime = atime;\n                    extra.mtime = mtime;\n\n                    if (vars.extraSize >= 12) {\n                        var uid = data.readUInt16LE(index + offset);\n                        offset += 2;\n                        var gid = data.readUInt16LE(index + offset);\n                        offset += 2;\n                        extra.uid = uid;\n                        extra.gid = gid;\n                    }\n                }\n                break;\n            case 0x7855:\n                fieldType = \"Info-ZIP UNIX (type 2)\";\n                var offset = 0;\n                if (vars.extraSize >= 4) {\n                    var uid = data.readUInt16LE(index + offset);\n                    offset += 2;\n                    var gid = data.readUInt16LE(index + offset);\n                    offset += 2;\n                    extra.uid = uid;\n                    extra.gid = gid;\n                }\n                break;\n            case 0x7875:\n                fieldType = \"Info-ZIP New Unix\";\n                var offset = 0;\n                var extraVer = data.readUInt8(index);\n                offset += 1;\n                if (extraVer === 1) {\n                    var uidSize = data.readUInt8(index + offset);\n                    offset += 1;\n                    if (uidSize <= 6) {\n                        extra.uid = data.readUIntLE(index + offset, uidSize);\n                    }\n                    offset += uidSize;\n\n                    var gidSize = data.readUInt8(index + offset);\n                    offset += 1;\n                    if (gidSize <= 6) {\n                        extra.gid = data.readUIntLE(index + offset, gidSize);\n                    }\n                }\n                break;\n            case 0x756e:\n                fieldType = \"ASi Unix\";\n                var offset = 0;\n                if (vars.extraSize >= 14) {\n                    var crc = data.readUInt32LE(index + offset);\n                    offset += 4;\n                    var mode = data.readUInt16LE(index + offset);\n                    offset += 2;\n                    var sizdev = data.readUInt32LE(index + offset);\n                    offset += 4;\n                    var uid = data.readUInt16LE(index + offset);\n                    offset += 2;\n                    var gid = data.readUInt16LE(index + offset);\n                    offset += 2;\n                    extra.mode = mode;\n                    extra.uid = uid;\n                    extra.gid = gid;\n                    if (vars.extraSize > 14) {\n                        var start = index + offset;\n                        var end = index + vars.extraSize - 14;\n                        var symlinkName = this._decodeString(data.slice(start, end));\n                        extra.symlink = symlinkName;\n                    }\n                }\n                break;\n        }\n\n        if (this.options.debug) {\n            result.debug.push({\n                extraId: '0x' + vars.extraId.toString(16),\n                description: fieldType,\n                data: data.slice(index, index + vars.extraSize).inspect()\n            });\n        }\n\n        index += vars.extraSize;\n    }\n\n    return result;\n}\n\nUnzipStream.prototype._readDataDescriptor = function (data, zip64Mode) {\n    if (zip64Mode) {\n        var vars = binary.parse(data)\n            .word32lu('dataDescriptorSignature')\n            .word32lu('crc32')\n            .word64lu('compressedSize')\n            .word64lu('uncompressedSize')\n            .vars;\n\n        return vars;\n    }\n\n    var vars = binary.parse(data)\n        .word32lu('dataDescriptorSignature')\n        .word32lu('crc32')\n        .word32lu('compressedSize')\n        .word32lu('uncompressedSize')\n        .vars;\n\n    return vars;\n}\n\nUnzipStream.prototype._readCentralDirectoryEntry = function (data) {\n    var vars = binary.parse(data)\n        .word16lu('versionMadeBy')\n        .word16lu('versionsNeededToExtract')\n        .word16lu('flags')\n        .word16lu('compressionMethod')\n        .word16lu('lastModifiedTime')\n        .word16lu('lastModifiedDate')\n        .word32lu('crc32')\n        .word32lu('compressedSize')\n        .word32lu('uncompressedSize')\n        .word16lu('fileNameLength')\n        .word16lu('extraFieldLength')\n        .word16lu('fileCommentLength')\n        .word16lu('diskNumber')\n        .word16lu('internalFileAttributes')\n        .word32lu('externalFileAttributes')\n        .word32lu('offsetToLocalFileHeader')\n        .vars;\n\n    return vars;\n}\n\nUnzipStream.prototype._readEndOfCentralDirectory64 = function (data) {\n    var vars = binary.parse(data)\n        .word64lu('centralDirectoryRecordSize')\n        .word16lu('versionMadeBy')\n        .word16lu('versionsNeededToExtract')\n        .word32lu('diskNumber')\n        .word32lu('diskNumberWithCentralDirectoryStart')\n        .word64lu('centralDirectoryEntries')\n        .word64lu('totalCentralDirectoryEntries')\n        .word64lu('sizeOfCentralDirectory')\n        .word64lu('offsetToStartOfCentralDirectory')\n        .vars;\n\n    return vars;\n}\n\nUnzipStream.prototype._readEndOfCentralDirectory = function (data) {\n    var vars = binary.parse(data)\n        .word16lu('diskNumber')\n        .word16lu('diskStart')\n        .word16lu('centralDirectoryEntries')\n        .word16lu('totalCentralDirectoryEntries')\n        .word32lu('sizeOfCentralDirectory')\n        .word32lu('offsetToStartOfCentralDirectory')\n        .word16lu('commentLength')\n        .vars;\n\n    return vars;\n}\n\nconst cp437 = '\\u0000☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ';\n\nUnzipStream.prototype._decodeString = function (buffer, isUtf8) {\n    if (isUtf8) {\n        return buffer.toString('utf8');\n    }\n    // allow passing custom decoder\n    if (this.options.decodeString) {\n        return this.options.decodeString(buffer);\n    }\n    let result = \"\";\n    for (var i=0; i<buffer.length; i++) {\n        result += cp437[buffer[i]];\n    }\n    return result;\n}\n\nUnzipStream.prototype._parseOrOutput = function (encoding, cb) {\n    var consume;\n    while ((consume = this.processDataChunk(this.data)) > 0) {\n        this.data = this.data.slice(consume);\n        if (this.data.length === 0) break;\n    }\n\n    if (this.state === states.FILE_DATA) {\n        if (this.outStreamInfo.limit >= 0) {\n            var remaining = this.outStreamInfo.limit - this.outStreamInfo.written;\n            var packet;\n            if (remaining < this.data.length) {\n                packet = this.data.slice(0, remaining);\n                this.data = this.data.slice(remaining);\n            } else {\n                packet = this.data;\n                this.data = new Buffer('');\n            }\n\n            this.outStreamInfo.written += packet.length;\n            if (this.outStreamInfo.limit === this.outStreamInfo.written) {\n                this.state = states.START;\n\n                this.outStreamInfo.stream.end(packet, encoding, cb);\n            } else {\n                this.outStreamInfo.stream.write(packet, encoding, cb);\n            }\n        } else {\n            var packet = this.data;\n            this.data = new Buffer('');\n\n            this.outStreamInfo.written += packet.length;\n            var outputStream = this.outStreamInfo.stream;\n            outputStream.write(packet, encoding, () => {\n                if (this.state === states.FILE_DATA_END) {\n                    this.state = states.START;\n                    return outputStream.end(cb);\n                }\n                cb();\n            });\n        }\n        // we've written to the output stream, letting that write deal with the callback\n        return;\n    }\n\n    cb();\n}\n\nUnzipStream.prototype.drainAll = function () {\n    this._drainAllEntries = true;\n}\n\nUnzipStream.prototype._transform = function (chunk, encoding, cb) {\n    var self = this;\n    if (self.data.length > 0) {\n        self.data = Buffer.concat([self.data, chunk]);\n    } else {\n        self.data = chunk;\n    }\n\n    var startDataLength = self.data.length;\n    var done = function () {\n        if (self.data.length > 0 && self.data.length < startDataLength) {\n            startDataLength = self.data.length;\n            self._parseOrOutput(encoding, done);\n            return;\n        }\n        cb();\n    };\n    self._parseOrOutput(encoding, done);\n}\n\nUnzipStream.prototype._flush = function (cb) {\n    var self = this;\n    if (self.data.length > 0) {\n        self._parseOrOutput('buffer', function () {\n            if (self.data.length > 0) return setImmediate(function () { self._flush(cb); });\n            cb();\n        });\n\n        return;\n    }\n\n    if (self.state === states.FILE_DATA) {\n        // uh oh, something went wrong\n        return cb(new Error(\"Stream finished in an invalid state, uncompression failed\"));\n    }\n\n    setImmediate(cb);\n}\n\nmodule.exports = UnzipStream;\n","var Transform = require('stream').Transform;\nvar util = require('util');\nvar UnzipStream = require('./unzip-stream');\n\nfunction ParserStream(opts) {\n    if (!(this instanceof ParserStream)) {\n        return new ParserStream(opts);\n    }\n\n    var transformOpts = opts || {};\n    Transform.call(this, { readableObjectMode: true });\n\n    this.opts = opts || {};\n    this.unzipStream = new UnzipStream(this.opts);\n\n    var self = this;\n    this.unzipStream.on('entry', function(entry) {\n        self.push(entry);\n    });\n    this.unzipStream.on('error', function(error) {\n        self.emit('error', error);\n    });\n}\n\nutil.inherits(ParserStream, Transform);\n\nParserStream.prototype._transform = function (chunk, encoding, cb) {\n    this.unzipStream.write(chunk, encoding, cb);\n}\n\nParserStream.prototype._flush = function (cb) {\n    var self = this;\n    this.unzipStream.end(function() {\n        process.nextTick(function() { self.emit('close'); });\n        cb();\n    });\n}\n\nParserStream.prototype.on = function(eventName, fn) {\n    if (eventName === 'entry') {\n        return Transform.prototype.on.call(this, 'data', fn);\n    }\n    return Transform.prototype.on.call(this, eventName, fn);\n}\n\nParserStream.prototype.drainAll = function () {\n    this.unzipStream.drainAll();\n    return this.pipe(new Transform({ objectMode: true, transform: function (d, e, cb) { cb(); } }));\n}\n\nmodule.exports = ParserStream;\n","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n    \n    var cb = f || /* istanbul ignore next */ function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                /* istanbul ignore if */\n                if (path.dirname(p) === p) return cb(er);\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    /* istanbul ignore if */\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) /* istanbul ignore next */ {\n                    throw err0;\n                }\n                /* istanbul ignore if */\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","var fs = require('fs');\nvar path = require('path');\nvar util = require('util');\nvar mkdirp = require('mkdirp');\nvar Transform = require('stream').Transform;\nvar UnzipStream = require('./unzip-stream');\n\nfunction Extract (opts) {\n    if (!(this instanceof Extract))\n    return new Extract(opts);\n\n    Transform.call(this);\n\n    this.opts = opts || {};\n    this.unzipStream = new UnzipStream(this.opts);\n    this.unfinishedEntries = 0;\n    this.afterFlushWait = false;\n    this.createdDirectories = {};\n\n    var self = this;\n    this.unzipStream.on('entry', this._processEntry.bind(this));\n    this.unzipStream.on('error', function(error) {\n        self.emit('error', error);\n    });\n}\n\nutil.inherits(Extract, Transform);\n\nExtract.prototype._transform = function (chunk, encoding, cb) {\n    this.unzipStream.write(chunk, encoding, cb);\n}\n\nExtract.prototype._flush = function (cb) {\n    var self = this;\n\n    var allDone = function() {\n        process.nextTick(function() { self.emit('close'); });\n        cb();\n    }\n\n    this.unzipStream.end(function() {\n        if (self.unfinishedEntries > 0) {\n            self.afterFlushWait = true;\n            return self.on('await-finished', allDone);\n        }\n        allDone();\n    });\n}\n\nExtract.prototype._processEntry = function (entry) {\n    var self = this;\n    var destPath = path.join(this.opts.path, entry.path);\n    var directory = entry.isDirectory ? destPath : path.dirname(destPath);\n\n    this.unfinishedEntries++;\n\n    var writeFileFn = function() {\n        var pipedStream = fs.createWriteStream(destPath);\n\n        pipedStream.on('close', function() {\n            self.unfinishedEntries--;\n            self._notifyAwaiter();\n        });\n        pipedStream.on('error', function (error) {\n            self.emit('error', error);\n        });\n        entry.pipe(pipedStream);\n    }\n\n    if (this.createdDirectories[directory] || directory === '.') {\n        return writeFileFn();\n    }\n\n    // FIXME: calls to mkdirp can still be duplicated\n    mkdirp(directory, function(err) {\n        if (err) return self.emit('error', err);\n\n        self.createdDirectories[directory] = true;\n\n        if (entry.isDirectory) {\n            self.unfinishedEntries--;\n            self._notifyAwaiter();\n            return;\n        }\n\n        writeFileFn();\n    });\n}\n\nExtract.prototype._notifyAwaiter = function() {\n    if (this.afterFlushWait && this.unfinishedEntries === 0) {\n        this.emit('await-finished');\n        this.afterFlushWait = false;\n    }\n}\n\nmodule.exports = Extract;","'use strict';\n\nexports.Parse = require('./lib/parser-stream');\nexports.Extract = require('./lib/extract');","import { IPlugin, PluginManifest } from './IPlugin';\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\nimport { SocksProxyAgent } from \"socks-proxy-agent\";\n\n/**\n * 插件管理器配置接口\n */\nexport interface PluginManagerConfig {\n    /** 插件仓库URL */\n    pluginRegistry: string;\n    /** 插件安装目录 */\n    pluginDir: string;\n    /** 是否自动更新 */\n    autoUpdate: boolean;\n    /** 最大并发安装数 */\n    maxConcurrent: number;\n    /** 超时时间(毫秒) */\n    timeout: number;\n    /** 内置插件目录 */\n    buildInPluginDir?: string;\n    /** 日志记录器 */\n    logger?: {\n        error: (message: string) => void;\n    };\n}\n\n/**\n * 插件事件监听器接口\n */\nexport interface PluginEventListeners {\n    /** 插件安装事件 */\n    onInstall: (pluginId: string) => void;\n    /** 插件卸载事件 */\n    onUninstall: (pluginId: string) => void;\n}\n\n/**\n * 插件安装选项接口\n */\nexport interface InstallOptions {\n    /** 是否强制安装，即使已安装相同或更高版本 */\n    force?: boolean;\n    /** 代理 */\n    agent?: HttpsProxyAgent<string> | SocksProxyAgent;\n    /** 进度回调 */\n    progressCallback?: (progress: number) => void;\n\n}\n\n/**\n * 插件错误类\n */\nexport class PluginError extends Error {\n    constructor(\n        public pluginId: string,\n        public code: string,\n        message: string,\n        public originalError?: any\n    ) {\n        super(message);\n        this.name = 'PluginError';\n    }\n}\n\n/**\n * 插件管理器接口\n */\nexport interface IPluginManager {\n    /** 获取已加载的插件实例映射 */\n    getPlugins(): Map<string, IPlugin>;\n    \n    /** 获取插件配置映射 */\n    getPluginsConfig(): Promise<Map<string, PluginManifest>>;\n\n    /** 获取agent配置 */\n    getAgentInfo(): Promise<AgentConfig | null>;\n    \n    /** 加载指定ID的插件 */\n    loadPlugin(pluginId: string): Promise<IPlugin>;\n    \n    /** 从插件仓库获取可用插件列表 */\n    getAvailablePlugins(url: string, options: {httpAgent?: HttpsProxyAgent<string> | SocksProxyAgent}): Promise<PluginManifest[]>;\n    \n    /** 从本地.pemox文件安装插件 */\n    installFromPemox(pemoxPath: string, options?: InstallOptions): Promise<void>;\n    \n    /** 批量安装.pemox文件 */\n    installMultipleFromPemox(pemoxPaths: string[], options?: InstallOptions): Promise<void>;\n    \n    /** 从在线安装插件 */\n    installFromOnline(pluginManifest: PluginManifest, options?: InstallOptions): Promise<void>;\n    \n    /** 卸载插件 */\n    uninstallPlugin(pluginId: string): Promise<void>;\n    \n    /** 获取插件配置 */\n    getPluginConfig(pluginId: string): Promise<PluginManifest>;\n    \n    /** 设置插件配置 */\n    setPluginConfig(pluginId: string, config: PluginManifest): Promise<void>;\n\n    /** 设置agent配置 */\n    setAgentConfig(config: AgentConfig): Promise<AgentConfig>;\n    \n    /** 更新插件 */\n    // updatePlugin(pluginId: string, latestManifest: PluginManifest): Promise<void>;\n\n    /** 添加事件监听器 */\n    addEventListener(type: keyof PluginEventListeners, listener: (pluginId: string) => void): void;\n\n    /** 移除事件监听器 */\n    removeEventListener(type: keyof PluginEventListeners, listener: (pluginId: string) => void): void;\n}\n\nexport interface AgentConfig {\n    id: string;\n    name: string;\n    icon: string;\n    createdAt: string;\n    updatedAt: string;\n    agents: AgentInfo[];\n}\n\nexport interface AgentInfo {\n    id: string;\n    name: string;\n    description?: string;\n    category?: string;\n    author?: string;\n    capabilities?: string[];\n    createdAt?: string;\n    updatedAt?: string;\n    version?: string;\n}\n","import { IPlugin, PluginManifest } from './types/IPlugin';\nimport { IPluginManager, PluginManagerConfig, PluginEventListeners, InstallOptions, PluginError, AgentConfig } from './types/IPluginManager';\nimport * as path from 'path';\nimport * as fs from 'fs-extra';\nimport axios from 'axios';\nimport { calculateFileHash, downloadFile, getFileNameWithoutExtension, getFilesIncludeName, getFilesWithExtension, unzipFile } from '../utils';\nimport { compareVersions } from 'compare-versions';\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\nimport { SocksProxyAgent } from \"socks-proxy-agent\";\n\nexport * from './types/IPlugin';\nexport * from './types/IPluginManager';\n\nexport default class PluginManager implements IPluginManager {\n    // private static instance: PluginManager;\n    private plugins: Map<string, IPlugin>;\n    private pluginsConfig: Map<string, any>;\n    private uninstallPlugins: Map<string, string>;\n    private agentInfo: AgentConfig | null;\n    private config: PluginManagerConfig;\n    private eventListeners: Map<keyof PluginEventListeners, Set<Function>>;\n    private defaultTimeout: number = 10000;\n    constructor(config: Partial<PluginManagerConfig>) {\n        this.plugins = new Map();\n        this.pluginsConfig = new Map();\n        this.uninstallPlugins = new Map();\n        this.agentInfo = null;\n        this.eventListeners = new Map();\n        this.config = {\n            pluginRegistry: process.env.PLUGIN_REGISTRY || '',\n            pluginDir: path.join(process.cwd(), 'plugins'),\n            autoUpdate: false,\n            maxConcurrent: 3,\n            timeout: this.defaultTimeout,\n            ...config\n        };\n        this.init();\n    }\n\n    private async init() {\n        try {\n            // 确保插件目录存在\n            await fs.ensureDir(this.config.pluginDir);\n            await this.getUninstallPlugins();\n\n            // 加载内置插件\n            if (this.config.buildInPluginDir) {\n                await this._loadBuildInPlugins(this.config.buildInPluginDir, this.config.pluginDir);\n            }\n            // 加载本地插件配置\n            await this.getPluginsConfig();\n            // 加载卸载插件\n        } catch (error) {\n            console.error('Failed to initialize PluginManager:', error);\n            throw error;\n        }\n    }\n\n    public getPlugins(): Map<string, IPlugin> {\n        return this.plugins;\n    }\n\n    public async getPluginsConfig(): Promise<Map<string, any>> {\n        if (this.pluginsConfig.size === 0) {\n            this.pluginsConfig = await this._loadPluginsConfig(this.config.pluginDir).catch(error => {\n                console.error('Failed to load plugins config:', error);\n                return new Map();\n            });\n        }\n        return this.pluginsConfig;\n    }\n\n    public async getAgentInfo(): Promise<AgentConfig | null> {\n        if (!this.agentInfo) {\n            this.agentInfo = await this._loadAgentInfo();\n        }\n        return this.agentInfo;\n    }\n\n\n    public async getUninstallPlugins(): Promise<Map<string, string>> {\n        if (this.uninstallPlugins.size === 0) {\n            const uninstallPath = path.join(this.config.pluginDir, 'uninstall.json');\n            if (await fs.pathExists(uninstallPath)) {\n                this.uninstallPlugins = await fs.readJSON(uninstallPath);\n            }\n        }\n        return this.uninstallPlugins;\n    }\n\n    private async _loadAgentInfo(): Promise<AgentConfig | null> {\n        const pluginDir = this.config.pluginDir;\n        const agentPath = path.join(pluginDir, 'Agent.json');\n        if (await fs.pathExists(agentPath)) {\n            const agent = await fs.readJSON(agentPath);\n            return agent;\n        }\n        return null;\n    }\n\n    /**\n    * 加载本地预设插件，将里面已经存在的插件复制到用户的插件安装目录\n    *\n    * @param {string} pluginsFolder\n    */\n    private async _loadBuildInPlugins(buildInPluginDir: string, pluginDir: string) {\n        const res = await getFilesWithExtension(buildInPluginDir, '.pemox')\n        if (res.length) {\n            console.log('-----------start install local plugins');\n            for (const p of res) {\n                const pluginPath = path.resolve(buildInPluginDir, p)\n                const pluginDest = path.resolve(pluginDir, getFileNameWithoutExtension(p))\n                console.log(pluginPath);\n\n                if (fs.existsSync(pluginDest)) {\n                    const { name } = path.parse(pluginDest);\n                    const version = name.split('@')[1];\n                    const { name: buildInPluginName } = path.parse(p);\n                    const buildInPluginVersion = buildInPluginName.split('@')[1];\n                    console.log(version, buildInPluginVersion, compareVersions(version, buildInPluginVersion));\n                    if (compareVersions(version, buildInPluginVersion) >= 0) {\n                        console.log(`Skipping plugin: version ${version} is newer than builtin version ${buildInPluginVersion}`);\n                        continue;\n                    }\n\n                    if (this.uninstallPlugins.has(name)) {\n                        console.log(`Skipping plugin: ${name} is uninstalled`);\n                        continue;\n                    }\n                }\n\n                await unzipFile(pluginPath, pluginDest);\n\n            }\n\n            console.log('-----------finished');\n        }\n    }\n\n    /**\n     * 加载插件目录下所有插件的manifest.json配置\n     * @param pluginDir 插件目录\n     */\n    private async _loadPluginsConfig(pluginDir: string): Promise<Map<string, any>> {\n        try {\n            // 确保插件目录存在\n            await fs.ensureDir(pluginDir);\n\n            // 获取插件目录下的所有子目录\n            const pluginDirs = await fs.readdir(pluginDir);\n            const pluginsConfig = new Map<string, any>();\n\n            for (const dir of pluginDirs) {\n                try {\n                    const manifestPath = path.join(pluginDir, dir, 'manifest.json');\n\n                    // 检查manifest.json是否存在\n                    if (await fs.pathExists(manifestPath)) {\n                        // 读取并解析manifest.json\n                        const manifest = await fs.readJSON(manifestPath);\n                        const icon = path.join(pluginDir, dir, `icon.svg`);\n                        if (await fs.pathExists(icon)) {\n                            manifest.icon = icon;\n                        }\n                        // 将配置保存到pluginsConfig中\n                        pluginsConfig.set(manifest.pluginId, manifest);\n                        console.log(`Loaded config for plugin: ${dir}`);\n                    }\n                } catch (error) {\n                    console.error(`Error loading config for plugin ${dir}:`, error);\n                    // 继续处理下一个插件，不中断整个加载过程\n                }\n            }\n\n            return pluginsConfig;\n        } catch (error) {\n            console.error('Error loading plugins config:', error);\n            throw error;\n        }\n    }\n\n    // 获取插件实例\n    public async loadPlugin(pluginId: string): Promise<any> {\n        if (this.plugins.has(pluginId)) {\n            return this.plugins.get(pluginId);\n        }\n        const pluginPath = await getFilesIncludeName(this.config.pluginDir, pluginId);\n        console.log('pluginPath', pluginPath);\n        const plugin = await this._loadAndRegisterPlugin(pluginId, pluginPath);\n        this.plugins.set(pluginId, plugin);\n        return plugin;\n    }\n    // 插件加载和注册\n    private async _loadAndRegisterPlugin(pluginId: string, pluginPath: string): Promise<any> {\n        try {\n            const manifestPath = path.resolve(pluginPath, 'manifest.json');\n            const manifest = await fs.readJSON(manifestPath);\n            if (!manifest) {\n                throw new PluginError(pluginId, 'MANIFEST_NOT_FOUND', 'Manifest not found');\n            }\n            const fileEntry = path.resolve(pluginPath, manifest.main);\n            return require(fileEntry).default;\n        } catch (error: any) {\n            throw new PluginError(pluginId, 'LOAD_ERROR', `Failed to load plugin: ${error.message}`, error);\n        }\n    }\n\n    /**\n     * 获取插件仓库中的插件列表\n     * @param url 插件仓库的URL\n     * @param httpAgent 可选的HTTP代理\n     * @returns 插件列表\n     */\n    public async getAvailablePlugins(url: string, { httpAgent }: { httpAgent?: HttpsProxyAgent<string> | SocksProxyAgent }): Promise<PluginManifest[]> {\n        try {\n            const response = await axios.get(url, {\n                headers: { 'Content-Type': 'application/json' },\n                httpsAgent: httpAgent\n            });\n            return response.data as PluginManifest[];\n        } catch (error: any) {\n            throw new PluginError('system', 'REGISTRY_ERROR',\n                `Failed to fetch available plugins: ${error.message}`, error);\n        }\n    }\n\n    /**\n     * 从本地.pemox文件安装插件\n     * @param pemoxPath .pemox文件的路径\n     * @param options 安装选项\n     */\n    public async installFromPemox(pemoxPath: string, options?: InstallOptions): Promise<void> {\n        try {\n            // 检查文件是否存在\n            if (!await fs.pathExists(pemoxPath)) {\n                throw new PluginError('system', 'FILE_NOT_FOUND', `Pemox file not found: ${pemoxPath}`);\n            }\n\n            // 检查文件扩展名\n            if (!pemoxPath.endsWith('.pemox')) {\n                throw new PluginError('system', 'INVALID_FILE_TYPE', 'File must be a .pemox file');\n            }\n\n            // 创建临时目录用于解压\n            const tempDir = path.join(this.config.pluginDir, 'temp');\n            await fs.ensureDir(tempDir);\n\n            try {\n                // 解压文件\n                await unzipFile(pemoxPath, tempDir);\n\n                // 读取manifest.json\n                const manifestPath = path.join(tempDir, 'manifest.json');\n                if (!await fs.pathExists(manifestPath)) {\n                    throw new PluginError('system', 'MANIFEST_NOT_FOUND', 'Manifest not found in pemox file');\n                }\n\n                const manifest = await fs.readJSON(manifestPath) as PluginManifest;\n\n                // 验证manifest\n                if (!manifest.pluginId || !manifest.version) {\n                    throw new PluginError('system', 'INVALID_MANIFEST', 'Invalid manifest in pemox file');\n                }\n\n                const pluginId = manifest.pluginId;\n                const version = manifest.version;\n                const pluginPath = path.join(this.config.pluginDir, `${pluginId}@${version}`);\n\n                // 检查是否已安装\n                if (this.pluginsConfig.has(pluginId)) {\n                    const installedManifest = this.pluginsConfig.get(pluginId);\n                    const installedVersion = installedManifest.version;\n\n                    // 如果已安装且版本号大于等于当前版本，且未强制安装，则跳过\n                    if (!options?.force && compareVersions(version, installedVersion) <= 0) {\n                        console.log(`Skipping plugin: version ${version} is not newer than installed version ${installedVersion}`);\n                        return;\n                    }\n\n                    // 如果已安装，先卸载旧版本\n                    await this.uninstallPlugin(pluginId);\n                }\n\n                // 创建插件目录\n                await fs.ensureDir(pluginPath);\n\n                // 复制解压后的文件到插件目录\n                await fs.copy(tempDir, pluginPath);\n\n                // 更新插件配置\n                this.pluginsConfig.set(pluginId, manifest);\n\n                // 触发安装事件\n                this.emitEvent('onInstall', pluginId);\n\n            } finally {\n                // 清理临时目录\n                await fs.remove(tempDir);\n            }\n        } catch (error: any) {\n            throw new PluginError('system', 'PEMOX_INSTALL_ERROR',\n                `Failed to install from pemox file: ${error.message}`, error);\n        }\n    }\n\n    /**\n     * 批量安装.pemox文件\n     * @param pemoxPaths .pemox文件路径数组\n     * @param options 安装选项\n     */\n    public async installMultipleFromPemox(pemoxPaths: string[], options?: InstallOptions): Promise<void> {\n        const maxConcurrent = this.config.maxConcurrent || 3;\n        const chunks = [];\n\n        for (let i = 0; i < pemoxPaths.length; i += maxConcurrent) {\n            const chunk = pemoxPaths.slice(i, i + maxConcurrent);\n            chunks.push(chunk);\n        }\n\n        for (const chunk of chunks) {\n            await Promise.all(chunk.map(pemoxPath => this.installFromPemox(pemoxPath, options)));\n        }\n    }\n\n    public async installFromOnline(\n        pluginManifest: PluginManifest,\n        options?: InstallOptions\n    ): Promise<any> {\n        return new Promise(async (resolve) => {\n            try {\n                const pluginId = pluginManifest.pluginId;\n                const version = pluginManifest.version;\n                const pluginPath = path.join(this.config.pluginDir, `${pluginId}@${version}`);\n\n                // 检查是否已安装\n                if (this.pluginsConfig.has(pluginId)) {\n                    const installedManifest = this.pluginsConfig.get(pluginId);\n                    const installedVersion = installedManifest.version;\n\n                    // 如果已安装且版本号大于等于当前版本，且未强制安装，则跳过\n                    if (!options?.force && compareVersions(version, installedVersion) <= 0) {\n                        console.log(`Skipping plugin: version ${version} is not newer than installed version ${installedVersion}`);\n                        return true;\n                    }\n\n                    // 如果已安装，先卸载旧版本\n                    // await this.uninstallPlugin(pluginId);\n                }\n\n                // 创建插件目录\n                await fs.ensureDir(pluginPath);\n\n                // 下载插件\n                const downloadUrl = pluginManifest.link;\n                if (!downloadUrl) {\n                    throw new PluginError(pluginId, 'DOWNLOAD_URL_NOT_FOUND',\n                        'Download URL not found');\n                }\n\n                console.log('downloadUrl', downloadUrl);\n                const savePath = path.resolve(this.config.pluginDir, '_download');\n                downloadFile({\n                    url: downloadUrl,\n                    savePath,\n                    startCallback: () => {\n                        console.log('Download started');\n                    },\n                    progressCallback: (progress) => {\n                        if (options?.progressCallback) {\n                            options.progressCallback(progress);\n                        }\n                        console.log(`Download progress: ${progress}%`);\n                    },\n                    completionCallback: async (localPath) => {\n                        console.log(`Download completed. File saved at: ${localPath}`);\n                        const hash = await calculateFileHash(localPath);\n                        console.log('Check hash:', hash, pluginManifest.fileHash);\n                        if (hash === pluginManifest.fileHash) {\n                            const oldVersion = this.pluginsConfig.get(pluginId)?.version;\n                            const oldPluginPath = path.join(this.config.pluginDir, `${pluginId}@${oldVersion}`);\n                            console.log('remove old plugin', oldPluginPath);\n                            await fs.remove(oldPluginPath);\n                            await unzipFile(localPath, pluginPath);\n                            // 更新插件配置\n                            this.pluginsConfig.set(pluginId, pluginManifest);\n                            resolve({ success: true, pluginsConfig: this.pluginsConfig });\n                        } else {\n                            throw new PluginError(pluginId, 'HASH_MISMATCH',\n                                `Downloaded file hash (${hash}) does not match expected hash (${pluginManifest.fileHash})`);\n                        }\n                    },\n                    errorCallback: (error) => {\n                        throw new PluginError(pluginId, 'DOWNLOAD_ERROR',\n                            `Failed to download plugin: ${error.message}`, error);\n                    },\n                    agent: options?.agent\n                });\n\n            } catch (error: any) {\n                throw new PluginError(pluginManifest.pluginId, 'INSTALL_ERROR',\n                    `Failed to install plugin: ${error.message}`, error);\n            }\n        });\n    }\n\n    /**\n     * 卸载插件\n     * @param pluginId 插件ID\n     */\n    public async uninstallPlugin(pluginId: string): Promise<void> {\n        try {\n            // 获取插件配置\n            const manifest = this.pluginsConfig.get(pluginId);\n            if (!manifest) {\n                throw new PluginError(pluginId, 'NOT_INSTALLED', 'Plugin not installed');\n            }\n\n            // 停止并移除已加载的插件实例\n            const plugin = this.plugins.get(pluginId);\n            if (plugin) {\n                if (typeof plugin.cancelAllRequests === 'function') {\n                    await plugin.cancelAllRequests();\n                }\n                this.plugins.delete(pluginId);\n            }\n\n            // 删除插件目录\n            const pluginPath = path.join(this.config.pluginDir, `${pluginId}@${manifest.version}`);\n            await fs.remove(pluginPath);\n\n            // 移除插件配置\n            this.pluginsConfig.delete(pluginId);\n            // 增加卸载插件\n            this.uninstallPlugins.set(pluginId, manifest.version);\n            await fs.writeJSON(path.join(this.config.pluginDir, 'uninstall.json'), this.uninstallPlugins, { spaces: 2 });\n\n            // 触发卸载事件\n            this.emitEvent('onUninstall', pluginId);\n\n        } catch (error: any) {\n            throw new PluginError(pluginId, 'UNINSTALL_ERROR',\n                `Failed to uninstall plugin: ${error.message}`, error);\n        }\n    }\n\n    /**\n     * 获取插件配置\n     * @param pluginId 插件ID\n     */\n    public async getPluginConfig<T = any>(pluginId: string): Promise<T> {\n        const manifest = this.pluginsConfig.get(pluginId);\n        if (!manifest) {\n            throw new PluginError(pluginId, 'NOT_INSTALLED', 'Plugin not installed');\n        }\n\n        const configPath = path.join(this.config.pluginDir, `${pluginId}@${manifest.version}`, 'config.json');\n        try {\n            return await fs.readJSON(configPath);\n        } catch {\n            return {} as T;\n        }\n    }\n\n    /**\n     * 设置插件配置\n     * @param pluginId 插件ID\n     * @param config 配置对象\n     */\n    public async setPluginConfig(pluginId: string, config: PluginManifest): Promise<void> {\n        const manifest = this.pluginsConfig.get(pluginId);\n        if (!manifest) {\n            throw new PluginError(pluginId, 'NOT_INSTALLED', 'Plugin not installed');\n        }\n        const configPath = path.join(this.config.pluginDir, `${pluginId}@${manifest.version}`, 'manifest.json');\n        await fs.writeJSON(configPath, config, { spaces: 2 });\n        this.pluginsConfig.set(pluginId, config);\n    }\n\n    /**\n     * 设置agent配置\n     * @param data agent配置\n     */\n    public async setAgentConfig(config: AgentConfig): Promise<AgentConfig> {\n        const agentPath = path.join(this.config.pluginDir, 'Agent.json');\n        this.agentInfo = config;\n        await fs.writeJSON(agentPath, this.agentInfo, { spaces: 2 });\n        return this.agentInfo;\n    }\n\n    /**\n     * 更新插件\n     * @param pluginId 插件ID\n     * @param options 更新选项\n     */\n    // public async updatePlugin(pluginId: string, latestManifest: PluginManifest): Promise<void> {\n    //     try {\n    //         // 获取当前安装的插件配置\n    //         const currentManifest = this.pluginsConfig.get(pluginId);\n    //         if (!currentManifest) {\n    //             throw new PluginError(pluginId, 'NOT_INSTALLED', 'Plugin not installed');\n    //         }\n\n    //         if (!latestManifest) {\n    //             throw new PluginError(pluginId, 'UPDATE_ERROR', 'Plugin not found in registry');\n    //         }\n\n    //         // 检查版本\n    //         if (latestManifest.version === currentManifest.version) {\n    //             return; // 已经是最新版本\n    //         }\n\n    //         // 卸载当前版本\n    //         // await this.uninstallPlugin(pluginId);\n\n    //         // 安装新版本\n    //         await this.installFromOnline(latestManifest);\n\n    //         // 触发更新事件\n    //         this.emitEvent('onInstall', pluginId); // 使用 onInstall 事件代替 onUpdate\n\n    //     } catch (error: any) {\n    //         throw new PluginError(pluginId, 'UPDATE_ERROR',\n    //             `Failed to update plugin: ${error.message}`, error);\n    //     }\n    // }\n\n    private emitEvent(type: keyof PluginEventListeners, pluginName: string): void {\n        const listeners = this.eventListeners.get(type);\n        if (listeners) {\n            listeners.forEach(listener => {\n                try {\n                    listener(pluginName);\n                } catch (error) {\n                    this.config.logger?.error(`Error in ${type} listener: ${error}`);\n                }\n            });\n        }\n    }\n\n    /**\n     * 添加事件监听器\n     * @param type 事件类型\n     * @param listener 监听器函数\n     */\n    public addEventListener(type: keyof PluginEventListeners, listener: (pluginId: string) => void): void {\n        if (!this.eventListeners.has(type)) {\n            this.eventListeners.set(type, new Set());\n        }\n        this.eventListeners.get(type)!.add(listener);\n    }\n\n    /**\n     * 移除事件监听器\n     * @param type 事件类型\n     * @param listener 监听器函数\n     */\n    public removeEventListener(type: keyof PluginEventListeners, listener: (pluginId: string) => void): void {\n        const listeners = this.eventListeners.get(type);\n        if (listeners) {\n            listeners.delete(listener);\n        }\n    }\n}","import { default as fsa } from \"fs-extra\";\nimport path from \"path\";\nimport unzip from \"unzip-stream\";\nimport fs from \"node:fs\";\nimport axios from \"axios\";\nimport { HttpsProxyAgent } from \"https-proxy-agent\";\nimport { SocksProxyAgent } from \"socks-proxy-agent\";\nimport * as crypto from 'crypto';\n\n/**\n * 获取一个文件夹中指定后缀的文件列表\n *\n * @export\n * @param {string} directory\n * @param {string} extension\n * @return {*}  {Promise<string[]>}\n */\nexport async function getFilesWithExtension(directory: string, extension: string): Promise<string[]> {\n    const files = await fsa.readdir(directory);\n    const filteredFiles = files.filter(file => path.extname(file) === extension);\n\n    return filteredFiles;\n}\n\nexport async function getFilesIncludeName(directory: string, name: string): Promise<string> {\n    const files = await fsa.readdir(directory, { withFileTypes: true });\n    const filteredFile = files.find(item => item.isDirectory() && item.name.includes(name));\n\n    if (!filteredFile) {\n        return '';\n    }\n\n    return path.join(directory, filteredFile.name);\n}\n\n/**\n * 从本地文件路径获取文件名，不包含后缀\n *\n * @param {string} filePath\n * @return {*}  {string}\n */\nexport function getFileNameWithoutExtension(filePath?: string): string {\n    if (!filePath) {\n        return ''\n    }\n    const { name } = path.parse(filePath);\n\n    return name;\n}\n\nexport function unzipFile(zipFilePath: string, outputFolderPath: string,\n    // progressCallback?: (progress: number) => void\n): Promise<void> {\n    // TODO: 增加解压进度\n    return new Promise((resolve, reject) => {\n        const readStream = fs.createReadStream(zipFilePath);\n\n        fsa.ensureDirSync(outputFolderPath)\n        readStream\n            .pipe(unzip.Extract({ path: outputFolderPath }))\n            .on('error', reject)\n            .on('close', resolve);\n    });\n}\n\nexport async function downloadFile({ url, savePath, agent, startCallback, progressCallback, completionCallback, errorCallback }: {\n    url: string,\n    savePath: string,\n    startCallback?: () => void,\n    progressCallback?: (progress: number) => void,\n    completionCallback?: (localPath: string) => void,\n    errorCallback?: (error: any) => void\n    agent?: HttpsProxyAgent<string> | SocksProxyAgent | undefined\n}): Promise<void> {\n    try {\n        const response = await axios({\n            url,\n            method: 'GET',\n            responseType: 'stream',\n            httpsAgent: agent,\n            timeout: 5000, // 设置超时时间为5秒\n        });\n\n        // const extension = path.extname(url);\n        const tempFilePath = `${savePath}.downloading`;\n\n        const writer = fs.createWriteStream(tempFilePath);\n\n        response.data.pipe(writer);\n\n        if (startCallback) {\n            startCallback();\n        }\n\n        let bytesDownloaded = 0;\n        let totalSize: number | null = null;\n\n        response.data.on('data', (chunk: Buffer) => {\n            bytesDownloaded += chunk.length;\n\n            if (progressCallback && totalSize) {\n                const progress = (bytesDownloaded / totalSize) * 100;\n                progressCallback(progress);\n            }\n        });\n\n        response.data.on('response', (res: any) => {\n            totalSize = parseInt(res.headers['content-length'], 10);\n        });\n\n        writer.on('finish', () => {\n            fs.rename(tempFilePath, savePath, (err) => {\n                if (err) {\n                    throw err;\n                } else {\n                    if (completionCallback) {\n                        completionCallback(savePath);\n                    }\n                }\n            });\n        });\n    } catch (error) {\n        if (axios.isAxiosError(error) && error.code === 'ECONNABORTED') {\n            // 处理请求超时错误\n            // 执行相应的操作\n            console.log('请求超时：', error);\n            errorCallback?.(error);\n\n        } else {\n            // 处理其他网络错误\n            // 执行相应的操作\n            console.log('网络错误：', error);\n            errorCallback?.(error);\n        }\n    }\n}\n\nexport function calculateFileHash(filePath: string) {\n    return new Promise((resolve, reject) => {\n        const hash = crypto.createHash('sha256');\n        const input = fs.createReadStream(filePath);\n\n        input.on('error', reject);\n        hash.on('readable', () => {\n            const data = hash.read();\n            if (data) {\n                resolve(data.toString('hex'));\n            }\n        });\n\n        input.pipe(hash);\n    });\n}"],"mappings":"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","names":["copy","path","i","parse","path","vars","path","fs","er","made","fs","path","path","fs","axios","resolve","unzip","axios","resolve"]}